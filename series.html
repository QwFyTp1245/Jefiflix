<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Ù†Ù…Ø§ÛŒØ´ Ø³Ø±ÛŒØ§Ù„</title>
  <style>
    body {
      font-family: sans-serif;
      direction: rtl;
      background: #fff0f5;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    h2 {
      color: #ff4d6d;
    }
    ul {
      list-style-type: decimal;
      padding-right: 20px;
    }
    li {
      margin: 5px 0;
    }
    a {
      text-decoration: none;
      color: #ff4d6d;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html">â† Ø¨Ø§Ø²Ú¯Ø´Øª</a>
    <img id="seriesCover" src="" alt="Ú©Ø§ÙˆØ± Ø³Ø±ÛŒØ§Ù„">
    <h2 id="seriesTitle"></h2>
    <p><strong>Ú©Ø´ÙˆØ±:</strong> <span id="seriesCountry"></span></p>
    <p><strong>Ø§Ù…ØªÛŒØ§Ø²:</strong> <span id="seriesRating"></span></p>
    <p><strong>ØªÙˆØ¶ÛŒØ­:</strong> <span id="seriesDesc"></span></p>
    <hr>
    <h3>ğŸ“º Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§:</h3><button onclick="addToFavorites()">ğŸ“ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</button>
    <ul id="episodeList"></ul>
  </div>

  <script>
    const seriesIndex = new URLSearchParams(window.location.search).get("id");
    const allSeries = JSON.parse(localStorage.getItem("jefiflix_series")) || [];
    const series = allSeries[seriesIndex];

    if (series) {
      document.getElementById("seriesCover").src = series.cover;
      document.getElementById("seriesTitle").textContent = series.title;
      document.getElementById("seriesCountry").textContent = series.country;
      document.getElementById("seriesRating").textContent = series.rating;
      document.getElementById("seriesDesc").textContent = series.description;

      const list = document.getElementById("episodeList");
      series.videos.forEach((video, i) => {
        const li = document.createElement("li");
        li.textContent = Ù‚Ø³Ù…Øª ${i + 1} - ${video};
        list.appendChild(li);
      });
    } else {
      document.body.innerHTML = "<h2>Ø³Ø±ÛŒØ§Ù„ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯!</h2>";
    }
  </script>
 <script>
function addToFavorites() {
  let favs = JSON.parse(localStorage.getItem("jefiflix_favs")) || [];
  if (!favs.includes(seriesIndex)) {
    favs.push(seriesIndex);
    localStorage.setItem("jefiflix_favs", JSON.stringify(favs));
    alert("âœ… Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯ Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§!");
  } else {
    alert("âš ï¸ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡!");
  }
}
</script>const episodeList = document.getElementById("episodeList");

if (series.videos && series.videos.length > 0) {
  series.videos.forEach((link, index) => {
    const li = document.createElement("li");
    li.innerHTML = <a href="${link}" target="_blank"> Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§{index + 1}</a>;
    episodeList.appendChild(li);
  });
} else {
  episodeList.innerHTML = "<li>Ù‚Ø³Ù…ØªÛŒ Ø¨Ø±Ø§ÛŒ Ù¾Ø®Ø´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</li>";
}
</body>
</html>